name: Release Please

# Summary:
# This workflow is triggered on push to the main branch.
# It consists of one job:
# 1. Release:
#    - Checks out the code.
#    - Sets up Node.js.
#    - Runs the release-please action to create a release.

on:
  push:
    branches:
      - main

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up Node
        uses: actions/setup-node@v2
        with:
          node-version: '14'

      - name: Run release-please
        uses: google-github-actions/release-please-action@v3
        with:
          release-type: simple       # Define the type (simple is a good start)
          release-labels: release-please   # Label to trigger the release
          token: ${{ secrets.GITHUB_TOKEN }} # Required for creating a release
